C51 COMPILER V9.01   BLUETEETH                                                             07/09/2019 15:13:07 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE BLUETEETH
OBJECT MODULE PLACED IN .\Objects\blueTeeth.obj
COMPILER INVOKED BY: D:\cx\C51\BIN\C51.EXE blueTeeth\blueTeeth.c BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\blueTeeth.ls
                    -t) OBJECT(.\Objects\blueTeeth.obj)

line level    source

   1          /*********************************************************************************************************
   2          *名称：bludeTeeth.c
   3          *功能：蓝牙模块所用到的函数
   4          创建时间：2019/7/5
   5          修改时间：2019/XX/XX
   6          作者：XXX
   7          **********************************************************************************************************
             -/
   8          #include <STC12C5A.H>
   9          #include "config.h"
  10                  
  11          uchar xdata buf;  
  12          /*******************************************************************************
  13          * 函 数 名         : BlueteethInit
  14          * 函数功能                 : 蓝牙模块初始化
  15          *******************************************************************************/
  16          void BlueteethInit()
  17          {
  18   1              SCON = 0x50;    //串口模式1，允许接收
  19   1              TMOD = 0x20;    //T1工作模式为2，自动重装
  20   1              PCON = 0x00;    //波特率不倍增
  21   1      
  22   1              REN = 1;
  23   1      
  24   1              TH1 = 0xfd;             //设置波特率为9600
  25   1              TL1 = 0xfd;
  26   1                                                 
  27   1              RI = 0;
  28   1      
  29   1              EA = 1;
  30   1              ES = 1;
  31   1      
  32   1              TR1 = 1;
  33   1      }
  34                                                                                                          
  35          /*******************************************************************************
  36          * 函 数 名         : Serial
  37          * 函数功能                 : 定时器
  38          *******************************************************************************/
  39            
  40          void Serial() interrupt 4
  41          {
  42   1              buf = SBUF;
  43   1              RI = 0; //读标志清零
  44   1              SBUF = buf;     //将内容返回到手机端，可在手机查看发送的内容
  45   1              while(!TI);
  46   1              TI = 0; //写标志清零
  47   1      }         


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     55    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =      1    ----
C51 COMPILER V9.01   BLUETEETH                                                             07/09/2019 15:13:07 PAGE 2   

   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)

C51 COMPILER V9.00   DISPLAY                                                               07/14/2019 10:08:00 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE DISPLAY
OBJECT MODULE PLACED IN .\Objects\display.obj
COMPILER INVOKED BY: D:\单片机\C51\BIN\C51.EXE display\display.c BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\display.lst)
                    - OBJECT(.\Objects\display.obj)

line level    source

   1          /*********************************************************************************************************
   2          *名称：display.c
   3          *功能：不同标准的屏幕显示
   4          创建时间：2019/7/5
   5          修改时间：2019/XX/XX
   6          作者：XXX
   7          **********************************************************************************************************
             -/
   8          
   9          #include "display.h"
  10          
  11          /*******************************************************************************
  12          * 函 数 名         : OLED_P6x8Str
  13          * 函数功能                 : 显示6*8一组标准ASCII字符串 显示的坐标（x,y）y为页范围0～7
  14          *******************************************************************************/
  15          
  16          void OLED_P6x8Str(U8 x, y,U8 ch[])
  17          {
  18   1              U8 c=0,i=0,j=0;
  19   1      
  20   1              while (ch[j]!='\0')
  21   1              {
  22   2                      c =ch[j]-32;
  23   2      
  24   2                      if(x>126){x=0;y++;}
  25   2      
  26   2                      OLED_Set_Pos(x,y);
  27   2      
  28   2                      for(i=0;i<6;i++)
  29   2      
  30   2                      OLED_WrDat(F6x8[c][i]);
  31   2      
  32   2                      x+=6;
  33   2      
  34   2                      j++;
  35   2              }
  36   1      }
  37          
  38          
  39          /*******************************************************************************
  40          * 函 数 名         : OLED_P8x16Str
  41          * 函数功能                 : 显示8*16一组标准ASCII字符串 显示的坐标（x,y）y为页范围0～7
  42          *******************************************************************************/
  43          
  44          void OLED_P8x16Str(U8 x, y,U8 ch[])
  45          {
  46   1              U8 c=0,i=0,j=0;
  47   1              while (ch[j]!='\0')
  48   1              {
  49   2                      c = ch[j]-32;
  50   2      
  51   2                      if(x>120){x=0;y++;}
  52   2      
  53   2                      OLED_Set_Pos(x,y);
C51 COMPILER V9.00   DISPLAY                                                               07/14/2019 10:08:00 PAGE 2   

  54   2      
  55   2                      for(i=0;i<8;i++)
  56   2      
  57   2                      OLED_WrDat(F8X16[c*16+i]);
  58   2      
  59   2                      OLED_Set_Pos(x,y+1);
  60   2      
  61   2                      for(i=0;i<8;i++)
  62   2      
  63   2                      OLED_WrDat(F8X16[c*16+i+8]);
  64   2      
  65   2                      x+=8;
  66   2      
  67   2                      j++;
  68   2              }
  69   1      }
  70          
  71          
  72          /*******************************************************************************
  73          * 函 数 名         : OLED_P16x16Ch
  74          * 函数功能                 : 显示16*16点阵  显示的坐标（x,y）y为页范围0～7
  75          *******************************************************************************/
  76          
  77          void OLED_P16x16Ch(U8 x, y, N)
  78          {
  79   1              U8 wm=0;
  80   1      
  81   1              U16 adder=32*N;
  82   1      
  83   1              OLED_Set_Pos(x , y);
  84   1      
  85   1              for(wm = 0;wm < 16;wm++)
  86   1              {
  87   2                      OLED_WrDat(F16x16[adder]);
  88   2      
  89   2                      adder += 1;
  90   2              }
  91   1              OLED_Set_Pos(x,y + 1);
  92   1      
  93   1              for(wm = 0;wm < 16;wm++)
  94   1              {
  95   2                      OLED_WrDat(F16x16[adder]);
  96   2      
  97   2                      adder += 1;
  98   2              }               
  99   1      }
 100          
 101          
 102          /*******************************************************************************
 103          * 函 数 名         : Draw_BMP
 104          * 函数功能                 : 显示显示BMP图片128×64起始点坐标(x,y),x的范围0～127，y为页的范围0～7
 105          *******************************************************************************/
 106          
 107          void Draw_BMP(U8 x0, y0,x1, y1,U8 BMP[])
 108          {
 109   1              U16 j=0;
 110   1      
 111   1              U8 x,y;
 112   1      
 113   1         if(y1%8==0) y=y1/8;
 114   1               
 115   1         else y=y1/8+1;
C51 COMPILER V9.00   DISPLAY                                                               07/14/2019 10:08:00 PAGE 3   

 116   1      
 117   1              for(y=y0;y<y1;y++)
 118   1              {
 119   2                      OLED_Set_Pos(x0,y);
 120   2      
 121   2              for(x=x0;x<x1;x++)
 122   2                   {      
 123   3                      OLED_WrDat(BMP[j++]);
 124   3                   }
 125   2              }
 126   1      }
 127          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    552    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      38
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)

C51 COMPILER V9.00   MAIN                                                                  07/14/2019 15:06:55 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: F:\workApp\Keil_v5\C51\BIN\C51.EXE main.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include"includes.h"
   2          
   3          #define uint unsigned int
   4          #define uchar unsigned char
   5          
   6          //1//sbit KEY1=P0^0;                    //·¢ËÍ°´¼ü 
   7          //1//sbit KEY2=P0^1;
   8          //1//sbit KEY3=P0^2;
   9          //1//sbit KEY4=P0^3;
  10          sbit beep=P2^3;                                 //À®°È 
  11          sbit LED6=P1^6;                                 //·¢ËÍÊý¾ÝÊ±ÏÔÊ¾µÆ+½ÓÊÕµ½Êý¾ÝºóµÄ¹¦ÄÜÊµÏÖµÆ
  12          
  13          uchar Tx_Buf1[]={1};                    //·¢ËÍµÄÐÅÏ¢1 
  14          uchar Rx_Buf[32];                               //½ÓÊÕµ½µÄÊý¾ÝÔÝ´æÆ÷£¬×î¶à32×Ö½ÚÊý¾Ý  
  15          uchar uart_flag,a;                      //´®¿Ú½ÓÊÕ±êÖ¾¡¾ÊÕµ½Êý¾Ý¾ÍÖÃ1¡¿,aÎª½ÓÊÕµ½µÄÊý¾Ý
  16          
  17          /*------------------------------------------------
  18          ´®¿Ú½ÓÊÕÖÐ¶Ï·þÎñ³ÌÐò
  19          ------------------------------------------------*/
  20          void UART(void) interrupt 4
  21          {
  22   1              if(RI)                          //¼ì²â½ÓÊÕÍê³É±êÖ¾Î»ÖÃ1
  23   1              {
  24   2                      RI=0;                   //ÇåÁã½ÓÊÕÍê³É±êÖ¾Î»
  25   2                      a=SBUF;                 //¶ÁÈ¡½ÓÊÕµ½µÄÊý¾Ý
  26   2                      uart_flag = 1;  //ÖÐ¶Ï±êÖ¾Î»ÖÃ1
  27   2              }
  28   1      }
  29          /*------------------------------------------------
  30          mainº¯Êý
  31          ------------------------------------------------*/
  32          void main()
  33          {
  34   1               LED6=1;                                //³õÊ¼µÆ6Ï¨Ãð   
  35   1               uart_flag=0;                   //´®¿Ú±êÖ¾³õÊ¼Îª0
  36   1               init_NRF24L01();               //³õÊ¼»¯24L01
*** WARNING C206 IN LINE 36 OF MAIN.C: 'init_NRF24L01': missing function-prototype
  37   1               UART_Init();           //³õÊ¼»¯´®¿Ú
  38   1      
  39   1               while(NRF24L01_Check())                                        //¼ì²é²»µ½24l01Ôò±¨¾¯ 
*** WARNING C206 IN LINE 39 OF MAIN.C: 'NRF24L01_Check': missing function-prototype
  40   1               {
  41   2                      beep=0;
  42   2                      delay_ms(200);
  43   2                      beep=1;
  44   2                      delay_ms(200);
  45   2               }
  46   1               while(1)
  47   1               {      
  48   2                      RX_Mode();                                                      //½ÓÊÕÄ£Ê½  
*** WARNING C206 IN LINE 48 OF MAIN.C: 'RX_Mode': missing function-prototype
  49   2                      while(!nRF24L01_RxPacket(Rx_Buf))       //µÈ´ý½ÓÊÕÊý¾Ý,·µ»Ø1Ôò½ÓÊÕµ½Êý¾Ý,ÔÚµÈ´ý½ÓÊÕÊý¾ÝÆÚ¼ä,¿ÉÒÔËæÊ±±ä³É·¢ËÍÄ
             -£Ê½  
*** WARNING C206 IN LINE 49 OF MAIN.C: 'nRF24L01_RxPacket': missing function-prototype
*** ERROR C267 IN LINE 49 OF MAIN.C: 'nRF24L01_RxPacket': requires ANSI-style prototype
C51 COMPILER V9.00   MAIN                                                                  07/14/2019 15:06:55 PAGE 2   

  50   2                  {
  51   3                              if(uart_flag==1)                                //µ±´®¿Ú½ÓÊÜ±êÖ¾Îª1±íÊ¾ÓÐÊý¾Ý¹ýÀ´
  52   3                              {
  53   4                                      ES=0;                                                   //¹Ø´®¿ÚÖÐ¶Ï
  54   4                              
  55   4                                      TX_Mode();                                              //·¢ËÍÄ£Ê½ 
  56   4                                      Tx_Buf1[0]=a-'0';                                       //½«´®¿ÚÊý¾Ý¸ø·¢ËÍ»º³åÇø
  57   4                                  nRF24L01_TxPacket(Tx_Buf1);         //·¢ËÍÃüÁîÊý¾Ý24L01
  58   4                                      UART_Send_Byte('O');                    //Ïò´®¿Ú·¢ËÍÒÑ¾­´«ËÍ
  59   4                                      UART_Send_Byte('K');
  60   4                                      UART_Send_Byte(':');
  61   4                                      UART_Send_Byte(a);
  62   4                                      UART_Send_Byte('\n');
  63   4                                      LED6=0;
  64   4                                  delay_ms(300);
  65   4                                      LED6=1;
  66   4                                  delay_ms(300);                                      //·¢ËÍºóLED1ÉÁÒ»ÏÂ 
  67   4      
  68   4                                      ES=1;                                                   //ÔÊÐí´®¿ÚÖÐ¶Ï
  69   4                                      uart_flag=0;                                    //ÖÐ¶Ï±êÖ¾Î»ÖÃ0
  70   4                                      break;                                                  //ÍË³ö×î½üµÄÑ­»·,´Ó¶ø±ä»Ø½ÓÊÕÄ£Ê½,Õâ¾ä¹Ø¼ü
  71   4                              }
  72   3                       }
  73   2                       if(Rx_Buf[0]==1)                                                       //Èô½ÓÊÕµ½¶ÔÓ¦µÄÊý¾ÝÔòÊµÏÖ¶ÔÓ¦¹¦ÄÜ 
  74   2                       {
  75   3                           Rx_Buf[0]=0;                               //Çå¿ÕÊý¾Ý 
  76   3                           LED6=0;
  77   3                               delay_ms(300);
  78   3                               LED6=1;
  79   3                               delay_ms(300);                         //½ÓÊÕµ½Êý¾Ý ºóÉÁË¸       
  80   3                       }
  81   2               }
  82   1      }

C51 COMPILATION COMPLETE.  4 WARNING(S),  1 ERROR(S)

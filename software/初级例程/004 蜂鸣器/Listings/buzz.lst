C51 COMPILER V9.01   BUZZ                                                                  07/05/2019 14:27:49 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE BUZZ
OBJECT MODULE PLACED IN buzz.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE buzzer\buzz.c BROWSE DEBUG OBJECTEXTEND PRINT(.\buzz.lst) OBJECT(buzz.obj)

line level    source

   1          /*********************************************************************************************************
   2          *Ãû³Æ£ºFengMingQi.h
   3          *¹¦ÄÜ£º·äÃùÆ÷ËùÓÃµ½º¯Êý
   4          ´´½¨Ê±¼ä£º2019/7/5
   5          ÐÞ¸ÄÊ±¼ä£º2019/7/5
   6          ×÷Õß£º»Æ½£ÇÅ
   7          *********************************************************************************************************/
   8          #include "buzz.h"
   9          U16 n=0;
  10           U16 code music_tab[] ={   
  11          0x18, 0x30, 0x1C , 0x10, //¸ñÊ½Îª: ÆµÂÊ³£Êý, ½ÚÅÄ³£Êý, ÆµÂÊ³£Êý, ½ÚÅÄ³£Êý,    
  12          0x20, 0x40, 0x1C , 0x10,   
  13          0x18, 0x10, 0x20 , 0x10,   
  14          0x1C, 0x10, 0x18 , 0x40,   
  15          0x1C, 0x20, 0x20 , 0x20,   
  16          0x1C, 0x20, 0x18 , 0x20,   
  17          0x20, 0x80, 0xFF , 0x20,   
  18          0x30, 0x1C, 0x10 , 0x18,   
  19          0x20, 0x15, 0x20 , 0x1C,   
  20          0x20, 0x20, 0x20 , 0x26,   
  21          0x40, 0x20, 0x20 , 0x2B,   
  22          0x20, 0x26, 0x20 , 0x20,   
  23          0x20, 0x30, 0x80 , 0xFF,   
  24          0x20, 0x20, 0x1C , 0x10,   
  25          0x18, 0x10, 0x20 , 0x20,   
  26          0x26, 0x20, 0x2B , 0x20,   
  27          0x30, 0x20, 0x2B , 0x40,   
  28          0x20, 0x20, 0x1C , 0x10,   
  29          0x18, 0x10, 0x20 , 0x20,   
  30          0x26, 0x20, 0x2B , 0x20,   
  31          0x30, 0x20, 0x2B , 0x40,   
  32          0x20, 0x30, 0x1C , 0x10,   
  33          0x18, 0x20, 0x15 , 0x20,   
  34          0x1C, 0x20, 0x20 , 0x20,   
  35          0x26, 0x40, 0x20 , 0x20,   
  36          0x2B, 0x20, 0x26 , 0x20,   
  37          0x20, 0x20, 0x30 , 0x80,   
  38          0x20, 0x30, 0x1C , 0x10,   
  39          0x20, 0x10, 0x1C , 0x10,   
  40          0x20, 0x20, 0x26 , 0x20,   
  41          0x2B, 0x20, 0x30 , 0x20,   
  42          0x2B, 0x40, 0x20 , 0x15,   
  43          0x1F, 0x05, 0x20 , 0x10,   
  44          0x1C, 0x10, 0x20 , 0x20,   
  45          0x26, 0x20, 0x2B , 0x20,   
  46          0x30, 0x20, 0x2B , 0x40,   
  47          0x20, 0x30, 0x1C , 0x10,   
  48          0x18, 0x20, 0x15 , 0x20,   
  49          0x1C, 0x20, 0x20 , 0x20,   
  50          0x26, 0x40, 0x20 , 0x20,   
  51          0x2B, 0x20, 0x26 , 0x20,   
  52          0x20, 0x20, 0x30 , 0x30,   
  53          0x20, 0x30, 0x1C , 0x10,   
  54          0x18, 0x40, 0x1C , 0x20,   
  55          0x20, 0x20, 0x26 , 0x40,   
C51 COMPILER V9.01   BUZZ                                                                  07/05/2019 14:27:49 PAGE 2   

  56          0x13, 0x60, 0x18 , 0x20,   
  57          0x15, 0x40, 0x13 , 0x40,   
  58          0x18, 0x80, 0x00   
  59          };
  60          
  61          /**********************************************************
  62          º¯Êý£ºint0()
  63          ¹¦ÄÜ£º²ÉÓÃÖÐ¶Ï0 ¿ØÖÆ½ÚÅÄ
  64          *************************************************************/
  65           void int0()  interrupt 1       
  66          {  TH0=0xd8;   
  67   1         TL0=0xef;   
  68   1         n--;   
  69   1      }   
  70          
  71          /******************************************************************************
  72          *º¯ÊýÃû£º fengming
  73          *¹¦ÄÜ£º Ê¹·äÃùÆ÷·¢³öÉùÒô
  74          ******************************************************************************/
  75          
  76          void Feng_Ming_Qi()       
  77          { 
  78   1          U16 p,m;   //mÎªÆµÂÊ³£Êý±äÁ¿    
  79   1          U16 i=0;   
  80   1          TMOD&=0x0f;   
  81   1          TMOD|=0x01;   
  82   1          TH0=0xd8;TL0=0xef;   
  83   1          IE=0x82;   
  84   1         play: 
  85   1          while(1)   
  86   1          {   
  87   2           a:p=music_tab[i];   
  88   2             if(p==0x00)       { i=0, Delay_us(1000); goto play;}     //Èç¹ûÅöµ½½áÊø·û,ÑÓÊ±1Ãë,»Øµ½¿ªÊ¼ÔÙÀ´Ò»±é£
             -¬³ÌÐò»Øµ½paly±êÖ¾µÄµØ·½    
  89   2             else if(p==0xff)  { i=i+1;Delay_us(100),TR0=0; goto a;}  //ÈôÅöµ½ÐÝÖ¹·û,ÑÓÊ±100ms,¼ÌÐøÈ¡ÏÂÒ»Òô·û£¬³
             -ÌÐò»Øµ½a±êÖ¾µÄµØ·½    
  90   2                  else         {m=music_tab[i++], n=music_tab[i++];}  //È¡ÆµÂÊ³£Êý ºÍ ½ÚÅÄ³£Êý    
  91   2                   TR0=1;                                             //¿ª¶¨Ê±Æ÷1    
  92   2                 while(n!=0) buzz=~buzz,delay_pinglu(m);                         //µÈ´ý½ÚÅÄÍê³É, Í¨¹ýP1¿ÚÊä³öÒôÆ
             -µ(¿É¶àÉùµÀÅ¶!)    
  93   2             TR0=0;                                             //¹Ø¶¨Ê±Æ÷1    
  94   2          }   
  95   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    206    ----
   CONSTANT SIZE    =    382    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      2       6
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)

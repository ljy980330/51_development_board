C51 COMPILER V9.00   DISPLAY                                                               07/15/2019 09:12:05 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE DISPLAY
OBJECT MODULE PLACED IN .\Objects\display.obj
COMPILER INVOKED BY: D:\单片机\C51\BIN\C51.EXE display\display.c BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\display.lst)
                    - OBJECT(.\Objects\display.obj)

line level    source

   1          /*********************************************************************************************************
   2          *名称：display.c
   3          *功能：屏幕显示
   4          创建时间：2019/7/14
   5          修改时间：2019/XX/XX
   6          作者：XXX
   7          **********************************************************************************************************
             -/
   8          
   9          #include "display.h"
  10          
  11          /*******************************************************************************
  12          * 函 数 名         : OLED_FormName
  13          * 函数功能                 : 在指定位置显示HFont字符组
  14          *******************************************************************************/
  15          
  16          void OLED_FormName(uchar x, y)
  17          {
  18   1              uchar i=0,j=0;
  19   1              for(j=0;j<17;j++)
  20   1              {
  21   2                      OLED_Set_Pos(x,y);
  22   2                      for(i=0;i<6;i++)
  23   2                      OLED_WrDat(HFont[i+j*6]);
  24   2                      x+=6;
  25   2              }
  26   1      }
  27          
  28          /*******************************************************************************
  29          * 函 数 名         : OLED_FormLine
  30          * 函数功能                 : 在指定位置显示一条直线
  31          *******************************************************************************/
  32          
  33          
  34          void OLED_FormLine(uchar x, y)
  35          {
  36   1              uchar i=0,j=0;
  37   1              for(j=0;j<18;j++)
  38   1              {
  39   2                      OLED_Set_Pos(x,y);
  40   2                      for(i=0;i<6;i++)
  41   2                      OLED_WrDat(LineFont[i]);
  42   2                      x+=6;
  43   2              }
  44   1      }
  45          
  46          /*******************************************************************************
  47          * 函 数 名         : OLED_FormTitle
  48          * 函数功能                 : 主标题
  49          *******************************************************************************/
  50          
  51          void OLED_FormTitle(uchar x,y)
  52          {
  53   1              uchar i=0,j=0;
C51 COMPILER V9.00   DISPLAY                                                               07/15/2019 09:12:05 PAGE 2   

  54   1              for(j=0;j<13;j++)
  55   1              {
  56   2                      OLED_Set_Pos(x,y);
  57   2      
  58   2                      for(i=0;i<8;i++)
  59   2                      {
  60   3                              OLED_WrDat(TitleFont[j*16+i]);
  61   3                      }
  62   2                      OLED_Set_Pos(x,y+1);
  63   2                      
  64   2                      for(i=0;i<8;i++)
  65   2                      {
  66   3                              OLED_WrDat(TitleFont[j*16+i+8]);
  67   3                      }
  68   2                      x+=8;
  69   2              }
  70   1      }
  71          
  72          /*******************************************************************************
  73          * 函 数 名         : OLED_FormTemp
  74          * 函数功能                 : 温度标识
  75          *******************************************************************************/
  76          
  77          void OLED_FormTemp(uchar x,y)
  78          {
  79   1              uchar i=0,j=0;
  80   1              for(j=0;j<5;j++)
  81   1              {
  82   2                      OLED_Set_Pos(x,y);
  83   2      
  84   2                      for(i=0;i<8;i++)
  85   2                      {
  86   3                              OLED_WrDat(TempFont[j*16+i]);
  87   3                      }
  88   2                      OLED_Set_Pos(x,y+1);
  89   2                      
  90   2                      for(i=0;i<8;i++)
  91   2                      {
  92   3                              OLED_WrDat(TempFont[j*16+i+8]);
  93   3                      }
  94   2                      x+=8;
  95   2              }
  96   1      }
  97          
  98          /*******************************************************************************
  99          * 函 数 名         : OLED_FormHumi
 100          * 函数功能                 : 湿度标识
 101          *******************************************************************************/
 102          
 103          
 104          void OLED_FormHumi(uchar x,y)
 105          {
 106   1              uchar i=0,j=0;
 107   1              for(j=0;j<4;j++)
 108   1              {
 109   2                      OLED_Set_Pos(x,y);
 110   2      
 111   2                      for(i=0;i<8;i++)
 112   2                      {
 113   3                              OLED_WrDat(HumiFont[j*16+i]);
 114   3                      }
 115   2                      OLED_Set_Pos(x,y+1);
C51 COMPILER V9.00   DISPLAY                                                               07/15/2019 09:12:05 PAGE 3   

 116   2                      
 117   2                      for(i=0;i<8;i++)
 118   2                      {
 119   3                              OLED_WrDat(HumiFont[j*16+i+8]);
 120   3                      }
 121   2                      x+=8;
 122   2              }
 123   1      }
 124          
 125          /*******************************************************************************
 126          * 函 数 名         : OLED_AnyChar_16X16
 127          * 函数功能                 : 在指定位置显示一个指定的16X16字符
 128          *******************************************************************************/
 129          
 130          void OLED_AnyChar_16X16(uchar x, y,uchar anystr_temp[])
 131          //x：选定行第几个像素点；y：选定的行数（以16个列像素为单位）；待显示的字符串
 132          {
 133   1              uchar i=0;
 134   1              if(x>112)//如果指定的行超界，那么转到下一行第一个位置
 135   1              {
 136   2                      x=0;y++;
 137   2              }
 138   1              
 139   1              OLED_Set_Pos(x,y);//置写入位
 140   1              
 141   1              for(i=0;i<16;i++)
 142   1              {
 143   2              OLED_WrDat(anystr_temp[i]);//在字模表中查找相应位置的字模，并写入到指定位置
 144   2              }
 145   1              
 146   1              OLED_Set_Pos(x,y+1);//写入位下移半个单位
 147   1                      
 148   1              for(i=0;i<16;i++)
 149   1              {
 150   2                      OLED_WrDat(anystr_temp[i+16]);
 151   2              }
 152   1      }
 153          
 154          /*******************************************************************************
 155          * 函 数 名         : OLED_AnyChar_8X16
 156          * 函数功能                 : 在指定位置显示一个指定的8X16字符    
 157          *******************************************************************************/
 158          
 159          void OLED_AnyChar_8X16(uchar x, y,uchar anystr_temp[])
 160          //x：选定行第几个像素点；y：选定的行数（以16个列像素为单位）；待显示的字符串
 161          {
 162   1              uchar i=0;
 163   1              if(x>112)//如果指定的行超界，那么转到下一行第一个位置
 164   1              {
 165   2                      x=0;y++;
 166   2              }
 167   1              
 168   1              OLED_Set_Pos(x,y);//置写入位
 169   1              
 170   1              for(i=0;i<8;i++)
 171   1              {
 172   2              OLED_WrDat(anystr_temp[i]);//在字模表中查找相应位置的字模，并写入到指定位置
 173   2              }
 174   1              
 175   1              OLED_Set_Pos(x,y+1);//写入位下移半个单位
 176   1                      
 177   1              for(i=0;i<8;i++)
C51 COMPILER V9.00   DISPLAY                                                               07/15/2019 09:12:05 PAGE 4   

 178   1              {
 179   2                      OLED_WrDat(anystr_temp[i+8]);
 180   2              }
 181   1      }
 182          
 183          /*******************************************************************************
 184          * 函 数 名         : OLED_DataDisplay_H
 185          * 函数功能                 : 特定的湿度数据显示函数
 186          *******************************************************************************/
 187          
 188          void OLED_DataDisplay_H(uchar x, y,uint display_temp[])
 189          //x：选定行第几个像素点；y：选定的行数（以16个列像素为单位）；待显示的数字字符串
 190          {
 191   1              uchar i=0,j=0;
 192   1              for(j=0;j<2;j++)//写整数数据
 193   1              {
 194   2                      OLED_Set_Pos(x,y);//置写入位
 195   2                      for(i=0;i<8;i++)
 196   2                      {
 197   3                              OLED_WrDat(NumberFont[display_temp[j]*16+i]);//在字模表中查找相应位置的字模，并写入到指定位置
 198   3                      }
 199   2                      OLED_Set_Pos(x,y+1);//写入位下移半个单位
 200   2                      for(i=0;i<8;i++)
 201   2                      {
 202   3                              OLED_WrDat(NumberFont[display_temp[j]*16+i+8]);
 203   3                      }
 204   2                      x+=8;
 205   2              }
 206   1      }
 207          
 208          /*******************************************************************************
 209          * 函 数 名         : OLED_DataDisplay_T
 210          * 函数功能                 : 特定的温度数据显示函数
 211          *******************************************************************************/
 212          
 213          void OLED_DataDisplay_T(uchar x, y,uint display_temp[])
 214          //x：选定行第几个像素点；y：选定的行数（以16个列像素为单位）；待显示的数字字符串
 215          {
 216   1              uchar i=0,j=0;
 217   1              for(j=0;j<2;j++)//写整数数据
 218   1              {
 219   2                      OLED_Set_Pos(x,y);//置写入位
 220   2                      for(i=0;i<8;i++)
 221   2                      {
 222   3                              OLED_WrDat(NumberFont[display_temp[j]*16+i]);//在字模表中查找相应位置的字模，并写入到指定位置
 223   3                      }
 224   2                      OLED_Set_Pos(x,y+1);//写入位下移半个单位
 225   2                      for(i=0;i<8;i++)
 226   2                      {
 227   3                              OLED_WrDat(NumberFont[display_temp[j]*16+i+8]);
 228   3                      }
 229   2                      x+=8;
 230   2              }
 231   1              x+=8;
 232   1                      OLED_Set_Pos(x,y);//置写入位
 233   1                      for(i=0;i<8;i++)
 234   1                      {
 235   2                              OLED_WrDat(NumberFont[display_temp[j]*16+i]);//在字模表中查找相应位置的字模，并写入到指定位置
 236   2                      }
 237   1                      OLED_Set_Pos(x,y+1);//写入位下移半个单位
 238   1                      for(i=0;i<8;i++)
 239   1                      {
C51 COMPILER V9.00   DISPLAY                                                               07/15/2019 09:12:05 PAGE 5   

 240   2                              OLED_WrDat(NumberFont[display_temp[j]*16+i+8]);
 241   2                      }
 242   1      }
 243          
 244          
 245          /*******************************************************************************
 246          * 函 数 名         : OLED_P16x16Ch
 247          * 函数功能                 : 显示16*16点阵  显示的坐标（x,y）y为页范围0～7
 248          *******************************************************************************/
 249          
 250          void OLED_P16x16Ch(uchar x, y, N)
 251          {
 252   1              uchar wm=0;
 253   1      
 254   1              uchar adder=32*N;
 255   1      
 256   1              OLED_Set_Pos(x , y);
 257   1      
 258   1              for(wm = 0;wm < 16;wm++)
 259   1              {
 260   2                      OLED_WrDat(F16x16[adder]);
 261   2      
 262   2                      adder += 1;
 263   2              }
 264   1              OLED_Set_Pos(x,y + 1);
 265   1      
 266   1              for(wm = 0;wm < 16;wm++)
 267   1              {
 268   2                      OLED_WrDat(F16x16[adder]);
 269   2      
 270   2                      adder += 1;
 271   2              }               
 272   1      }
 273          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   1408    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      60
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
